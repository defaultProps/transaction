webpackJsonp([1],{"0/x5":function(t,e){},"2tap":function(t,e,i){i("d5xd"),i("at0p"),i("MJJS"),i("qsOi"),i("zOF1"),i("NUYg"),i("wTnw"),t.exports=i("ZuHZ").Map},"3cXf":function(t,e,i){t.exports={default:i("L+o2"),__esModule:!0}},"9TqU":function(t,e,i){var s=i("Nlnz"),n=i("mmyG");t.exports=function(t){return function(){if(s(this)!=t)throw TypeError(t+"#toJSON isn't generic");return n(this)}}},BsAm:function(t,e){},EKzR:function(t,e,i){var s=i("+kaZ"),n=i("RF0x"),a=i("+Tcy")("species");t.exports=function(t){var e;return n(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!n(e.prototype)||(e=void 0),s(e)&&null===(e=e[a])&&(e=void 0)),void 0===e?Array:e}},GmRL:function(t,e,i){"use strict";var s=i("2KLU"),n=i("Wtcz"),a=i("Dpv6"),o=i("2gH+"),l=i("W4r7"),r=i("ZUzi"),c=i("GVcH"),u=i("jt4h"),d=i("+kaZ"),v=i("U91k"),p=i("hHwa").f,f=i("rsKQ")(0),g=i("uoC7");t.exports=function(t,e,i,m,h,_){var b=s[t],y=b,C=h?"set":"add",k=y&&y.prototype,x={};return g&&"function"==typeof y&&(_||k.forEach&&!o(function(){(new y).entries().next()}))?(y=e(function(e,i){u(e,y,t,"_c"),e._c=new b,void 0!=i&&c(i,h,e[C],e)}),f("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in k&&(!_||"clear"!=t)&&l(y.prototype,t,function(i,s){if(u(this,y,t),!e&&_&&!d(i))return"get"==t&&void 0;var n=this._c[t](0===i?0:i,s);return e?this:n})}),_||p(y.prototype,"size",{get:function(){return this._c.size}})):(y=m.getConstructor(e,t,h,C),r(y.prototype,i),a.NEED=!0),v(y,t),x[t]=y,n(n.G+n.W+n.F,x),_||m.setStrong(y,t,h),y}},J7Er:function(t,e){},"L+o2":function(t,e,i){var s=i("ZuHZ"),n=s.JSON||(s.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}},NUYg:function(t,e,i){i("U5Tb")("Map")},"O+0q":function(t,e,i){var s=i("EKzR");t.exports=function(t,e){return new(s(t))(e)}},RPUZ:function(t,e){},TY5X:function(t,e,i){"use strict";var s=i("hHwa").f,n=i("7ikt"),a=i("ZUzi"),o=i("VfK5"),l=i("jt4h"),r=i("GVcH"),c=i("JCgW"),u=i("Uket"),d=i("/9y9"),v=i("uoC7"),p=i("Dpv6").fastKey,f=i("rJqi"),g=v?"_s":"size",m=function(t,e){var i,s=p(e);if("F"!==s)return t._i[s];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,e,i,c){var u=t(function(t,s){l(t,u,e,"_i"),t._t=e,t._i=n(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=s&&r(s,i,t[c],t)});return a(u.prototype,{clear:function(){for(var t=f(this,e),i=t._i,s=t._f;s;s=s.n)s.r=!0,s.p&&(s.p=s.p.n=void 0),delete i[s.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var i=f(this,e),s=m(i,t);if(s){var n=s.n,a=s.p;delete i._i[s.i],s.r=!0,a&&(a.n=n),n&&(n.p=a),i._f==s&&(i._f=n),i._l==s&&(i._l=a),i[g]--}return!!s},forEach:function(t){f(this,e);for(var i,s=o(t,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(s(i.v,i.k,this);i&&i.r;)i=i.p},has:function(t){return!!m(f(this,e),t)}}),v&&s(u.prototype,"size",{get:function(){return f(this,e)[g]}}),u},def:function(t,e,i){var s,n,a=m(t,e);return a?a.v=i:(t._l=a={i:n=p(e,!0),k:e,v:i,p:s=t._l,n:void 0,r:!1},t._f||(t._f=a),s&&(s.n=a),t[g]++,"F"!==n&&(t._i[n]=a)),t},getEntry:m,setStrong:function(t,e,i){c(t,e,function(t,i){this._t=f(t,e),this._k=i,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?u(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,u(1))},i?"entries":"values",!i,!0),d(e)}}},TorI:function(t,e,i){"use strict";var s=i("Wtcz"),n=i("1W9W"),a=i("VfK5"),o=i("GVcH");t.exports=function(t){s(s.S,t,{from:function(t){var e,i,s,l,r=arguments[1];return n(this),(e=void 0!==r)&&n(r),void 0==t?new this:(i=[],e?(s=0,l=a(r,arguments[2],2),o(t,!1,function(t){i.push(l(t,s++))})):o(t,!1,i.push,i),new this(i))}})}},U5Tb:function(t,e,i){"use strict";var s=i("Wtcz");t.exports=function(t){s(s.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},X3sg:function(t,e){},aA6X:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("4YfN"),n=i.n(s),a=i("cUn4"),o=i.n(a),l=i("3cXf"),r=i.n(l),c=i("IrhL"),u={data:function(){return{issusTypeArr:c.a,levelArr:c.b,currentworkIcon:"",currentLifeIcon:"",visibleType:!1,visibleLevel:!1,flagWorkIconIndex:0,flaglifeIconIndex:0}},created:function(){this.currentworkIcon=c.a[0].icon,this.currentLifeIcon=c.a[1].icon},methods:{selectIcon:function(t){"work"==t&&(this.flagWorkIconIndex>=c.a[0].moreIcon.length&&(this.flagWorkIconIndex=0),this.currentworkIcon=c.a[0].moreIcon[this.flagWorkIconIndex],this.flagWorkIconIndex++),"life"==t&&(this.flaglifeIconIndex>=c.a[1].moreIcon.length&&(this.flaglifeIconIndex=0),this.currentLifeIcon=c.a[1].moreIcon[this.flaglifeIconIndex],this.flaglifeIconIndex++)}}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"sortSprint"}},[i("el-button",{directives:[{name:"popover",rawName:"v-popover:type",arg:"type"}],staticClass:"type",attrs:{size:"mini",type:"text",icon:"el-icon-info"}}),t._v(" "),i("el-button",{directives:[{name:"popover",rawName:"v-popover:level",arg:"level"}],staticClass:"level",attrs:{size:"mini",type:"text",icon:"el-icon-info"}}),t._v(" "),i("el-button",{directives:[{name:"popover",rawName:"v-popover:link",arg:"link"}],staticClass:"link",attrs:{size:"mini",type:"text"}},[t._v("链接")]),t._v(" "),i("el-button",{directives:[{name:"popover",rawName:"v-popover:title",arg:"title"}],staticClass:"title",attrs:{size:"mini",type:"text"}},[t._v("标题")]),t._v(" "),i("el-button",{directives:[{name:"popover",rawName:"v-popover:modules",arg:"modules"}],staticClass:"modules",attrs:{size:"mini",type:"text"}},[t._v("模块")]),t._v(" "),i("el-button",{directives:[{name:"popover",rawName:"v-popover:status",arg:"status"}],staticClass:"status",attrs:{size:"mini",type:"text",icon:"el-icon-refresh-right el-icon--right"},on:{click:function(e){return t.$emit("sortable","executiveMode")}}},[t._v("状态")]),t._v(" "),i("el-button",{directives:[{name:"popover",rawName:"v-popover:point",arg:"point"}],staticClass:"point",attrs:{size:"mini",type:"text",icon:"el-icon-refresh-right el-icon--right"},on:{click:function(e){return t.$emit("sortable","point")}}},[t._v("点")]),t._v(" "),i("el-popover",{ref:"type",attrs:{placement:"bottom",width:"160"},model:{value:t.visibleType,callback:function(e){t.visibleType=e},expression:"visibleType"}},[i("div",{attrs:{id:"sortSprintMain"}},[i("div",{staticClass:"work"},[i("el-button",{attrs:{type:"text"}},[t._v("工作:")]),t._v(" "),i("el-button",{staticClass:"currentIcon",attrs:{size:"mini",type:"text"}},[i("i",{class:[t.currentworkIcon,"iconfont"],style:{color:t.issusTypeArr[0].color}})]),t._v(" "),i("el-button",{staticClass:"btn",attrs:{icon:"el-icon-refresh",size:"mini",type:"info"},on:{click:function(e){return t.selectIcon("work")}}})],1),t._v(" "),i("div",{staticClass:"life"},[i("el-button",{attrs:{type:"text"}},[t._v("生活:")]),t._v(" "),i("el-button",{staticClass:"currentIcon",attrs:{size:"mini",type:"text"}},[i("i",{class:[t.currentLifeIcon,"iconfont"],style:{color:t.issusTypeArr[1].color}})]),t._v(" "),i("el-button",{staticClass:"btn",attrs:{icon:"el-icon-refresh",size:"mini",type:"info"},on:{click:function(e){return t.selectIcon("life")}}})],1)]),t._v(" "),i("div",{staticClass:"footer"},[i("el-button",{staticClass:"btn",attrs:{size:"mini",type:"text"},on:{click:function(e){t.visibleType=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{staticClass:"btn",attrs:{type:"primary",size:"mini"},on:{click:function(e){t.visibleType=!1}}},[t._v("确定")])],1)]),t._v(" "),i("el-popover",{ref:"level",attrs:{placement:"bottom",width:"160"},model:{value:t.visibleLevel,callback:function(e){t.visibleLevel=e},expression:"visibleLevel"}},[i("div",{attrs:{id:"sortSprintMain"}},t._l(t.levelArr,function(e,s){return i("div",{key:s,staticClass:"work"},[i("el-button",{attrs:{type:"text"}},[t._v(t._s(e.label)+":")]),t._v(" "),i("el-button",{staticClass:"currentIcon",attrs:{size:"mini",type:"text"}},t._l(e.options,function(t,e){return i("i",{key:e,class:[t.icon,"iconfont"],style:{color:t.color}})}),0),t._v(" "),i("el-button",{staticClass:"btn",attrs:{icon:"el-icon-refresh",size:"mini",type:"info"}})],1)}),0),t._v(" "),i("div",{staticClass:"footer"},[i("el-button",{staticClass:"btn",attrs:{size:"mini",type:"text"},on:{click:function(e){t.visibleLevel=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{staticClass:"btn",attrs:{type:"primary",size:"mini"},on:{click:function(e){t.visibleLevel=!1}}},[t._v("确定")])],1)])],1)},staticRenderFns:[]};var v=i("C7Lr")(u,d,!1,function(t){i("BsAm")},null,null).exports,p={props:{highlightSelectedList:Function,list:{type:Array,default:function(){return[]}},dropDraggleObj:[Object],loading:[Boolean],group:[String,Object]},data:function(){return{levelArr:c.b,issusTypeArr:c.a,draggbleList:[],oldIndex:-1}},computed:{dragOptions:function(){return{animation:0,group:"description",disabled:!1,ghostClass:"ghost"}}},components:{"v-sortSprint":v},watch:{list:function(t){this.draggbleList=JSON.parse(r()(this.list))},dropDraggleObj:{handler:function(t){t&&this.oldIndex>=0&&("implement"===t.type?this.$set(this.draggbleList[this.oldIndex],"progressState",t.link):"module"===t.type&&this.$set(this.draggbleList[this.oldIndex],"moduleState",t))},immediate:!0}},filters:{filterprogressState:function(t){return new o.a([["doing","处理中"],["not-start","未开始"],["finish","已完成"]]).get(t)}},created:function(){this.draggbleList=JSON.parse(r()(this.list))},mounted:function(){},methods:{sortable:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"executiveMode";"executiveMode"==t&&this.draggbleList.sort(function(t,e){return["not-start","doing","finish"].indexOf(t.progressState)-["not-start","doing","finish"].indexOf(e.progressState)}),"point"==t&&this.draggbleList.sort(function(t,e){return t.point-e.point})},onsort:function(){console.log(1)},handleDraggleList:function(t,e){this.$emit("handleDetail",t)},startDraggable:function(t){this.oldIndex=t.oldIndex},endDraggable:function(t){this.$emit("endDraggable",t)},addDraggable:function(t){},filterLevelColor:function(t){},stylelevelClass:function(t){var e=void 0;return this.levelArr.forEach(function(i){i.options.forEach(function(i){i.label==t&&(e=i.icon)})}),e},filterTypeIcon:function(t){return this.issusTypeArr.find(function(e){return e.value===t}).icon},filterTypeColor:function(t){return this.issusTypeArr.find(function(e){return e.value===t}).color}}},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"draggable-list"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.draggbleList.length,expression:"draggbleList.length"}],staticClass:"sort-contain"},[i("v-sortSprint",{on:{sortable:t.sortable}})],1),t._v(" "),[i("v-draggable",t._b({staticClass:"backlog-list",attrs:{draggable:".item",tag:"div","ghost-class":"ghost",group:t.group,sort:!0},on:{sort:t.onsort,start:t.startDraggable,end:t.endDraggable,add:t.addDraggable},model:{value:t.draggbleList,callback:function(e){t.draggbleList=e},expression:"draggbleList"}},"v-draggable",t.dragOptions,!1),t._l(t.draggbleList,function(e,s){return i("div",{key:e.order,staticClass:"item",attrs:{"data-key":e.link},on:{click:function(i){return t.handleDraggleList(e,s)}}},[i("span",{staticClass:"type",class:[e.type]},[i("i",{staticClass:"iconfont",class:t.filterTypeIcon(e.type),style:{color:t.filterTypeColor(e.type)}})]),t._v(" "),i("span",{staticClass:"level"},[i("i",{staticClass:"iconfont",class:t.stylelevelClass(e.level),style:{color:t.filterLevelColor(e.level)}})]),t._v(" "),i("span",{staticClass:"key-link"},[t._v(t._s(e.link))]),t._v(" "),i("span",{staticClass:"title",attrs:{title:e.title}},[t._v(t._s(e.title))]),t._v(" "),e.moduleState?i("el-button",{class:[e.moduleState&&e.moduleState.value,"modules-type"],attrs:{type:"text",size:"mini"}},[t._v(t._s(e.moduleState.name))]):t._e(),t._v(" "),e.progressState?i("el-button",{class:[e.progressState,"info-status"],attrs:{type:"text",size:"mini"}},[t._v(t._s(t._f("filterprogressState")(e.progressState)))]):t._e(),t._v(" "),i("el-button",{staticClass:"points",attrs:{type:"info",circle:""}},[t._v(t._s(e.point))])],1)}),0)],t._v(" "),0===t.draggbleList.length?i("div",{staticClass:"no-draggleList"},[i("div",{staticClass:"no-info"},[t._v("暂无事务")])]):t._e()],2)},staticRenderFns:[]};var g=i("C7Lr")(p,f,!1,function(t){i("J7Er")},null,null).exports,m={data:function(){return c.e.forEach(function(t){t.dropStatus=!1,t.type="implement"}),c.c.forEach(function(t){t.type="module"}),{progressStateList:c.e,modulesList:c.c,thusList:[],loadingNav:!1}},created:function(){this.getThusList()},methods:{handlelinkClick:function(t){window.open(t)},getThusList:function(){var t=this;this.loadingNav=!0,this.$axios.thus.list().then(function(e){setTimeout(function(){t.thusList=e,t.loadingNav=!1},600)})},dragleave:function(t){this.$set(t,"dropStatus",!1)},dragover:function(t,e){t.preventDefault(),this.$set(e,"dropStatus",!0)},drop:function(t){this.$set(t,"dropStatus",!1),this.dropDraggleObj=t,this.$emit("dropDownStatus",t)}}},h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"storyStatusNavtgation"}},[i("div",{staticClass:"nav-main"},[i("div",{staticClass:"module"},[i("div",{staticClass:"module-title"},[t._v("执行状态")]),t._v(" "),i("ul",t._l(t.progressStateList,function(e){return i("li",{key:e.link,class:[e.dropStatus?"dropStatus":"",e.link],on:{dragleave:function(i){return t.dragleave(e)},dragover:function(i){return t.dragover(i,e)},drop:function(i){return t.drop(e)}}},[i("span",{class:[e.link]},[t._v(t._s(e.name))])])}),0)]),t._v(" "),i("div",{staticClass:"module"},[i("div",{staticClass:"module-title"},[t._v("\n        模块类型\n        "),i("el-button",{staticClass:"module-edit",attrs:{size:"mini",icon:"el-icon-edit",type:"text"}})],1),t._v(" "),i("ul",{staticClass:"scroll-style-none module-ul"},t._l(t.modulesList,function(e){return i("li",{key:e.link,class:{dropStatus:e.dropStatus},on:{dragleave:function(i){return t.dragleave(e)},dragover:function(i){return t.dragover(i,e)},drop:function(i){return t.drop(e)}}},[i("span",{class:[e.link]},[t._v(t._s(e.name))])])}),0)]),t._v(" "),i("div",{staticClass:"module navgation scroll-style-none"},[i("div",{staticClass:"module-title"},[t._v("\n        附加链接\n        "),i("el-button",{staticClass:"module-edit",attrs:{size:"mini",icon:"el-icon-edit",type:"text"}})],1),t._v(" "),i("ul",t._l(t.thusList,function(e){return i("li",{key:e.name,attrs:{title:e.name},on:{click:function(i){return t.handlelinkClick(e.link)}}},[i("i",{staticClass:"iconfont icon-fenxiang"}),t._v("\n            "+t._s(e.name)+"\n        ")])}),0)])])])},staticRenderFns:[]};var _=i("C7Lr")(m,h,!1,function(t){i("X3sg")},null,null).exports,b={data:function(){return{levelArr:c.b,pointsArr:c.d,details:{name:"",link:"",type:"",level:"",title:"",fixed:"",progressState:"",tag:{name:"",link:""},points:""}}},watch:{sprintdetailData:function(t){t&&(this.details=JSON.parse(r()(t)))}},props:{sprintdetailData:[Object]},mounted:function(){},methods:{addDraggleEvent:function(){var t=document.getElementById("backlogDetailWrapper"),e=document.getElementById("sprintDetailWrapper"),i=document.getElementById("dragglePoint");document.onmouseup=function(t){document.onmousemove=null,document.onmouseup=null},i.onmousedown=function(s){var n=s.clientX,a=window.innerWidth,o=t.offsetWidth,l=e.offsetWidth;document.onmousemove=function(i){s.target.setCapture&&s.target.setCapture(),window.captureEvents&&window.captureEvents(Event.MOUSEMOVE|Event.MOUSEUP);var r=i.clientX-n,c=(o+r)/a*100,u=(l-r)/a*100;c>46&&u>22&&(t.style.width=c+"%",e.style.width=u+"%")},document.onmouseup=function(){document.onmousemove=null,i.releaseCapture&&i.releaseCapture(),window.releaseEvents&&window.releaseEvents(Event.MOUSEMOVE|Event.MOUSEUP)}}},handleClickCloseDetail:function(){document.getElementById("backlogDetailWrapper").style.width="87.5%",this.$emit("closeDetail")}}},y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"sprint-detail"}},[t._m(0),t._v(" "),i("div",{staticClass:"header"},[i("div",{staticClass:"link"},[i("router-link",{directives:[{name:"show",rawName:"v-show",value:t.details.tag,expression:"details.tag"}],staticClass:"tag",attrs:{tag:"a",to:t.details.link}},[t._v(t._s(t.details.tag.name))]),t._v(" /\n      "),i("router-link",{staticClass:"tag",attrs:{tag:"a",to:"/story/"+t.details.link}},[t._v(t._s(t.details.link))])],1),t._v(" "),i("el-button",{staticClass:"btn-del",attrs:{type:"text",icon:"el-icon-close"},on:{click:function(e){return t.handleClickCloseDetail()}}})],1),t._v(" "),i("v-edit",{staticClass:"title",attrs:{content:t.details.title,uid:t.details.link}}),t._v(" "),i("div",{staticClass:"form-item item-top"},[i("div",{staticClass:"form-label"},[t._v("\n      紧急度\n      "),i("el-tooltip",{attrs:{content:"此issue处理的紧急程度，由低到高数字递增",placement:"top"}},[i("i",{staticClass:"el-icon-info"})])],1),t._v(" "),i("el-select",{staticClass:"select-level",attrs:{placeholder:"请选择",size:"mini"},model:{value:t.details.level,callback:function(e){t.$set(t.details,"level",e)},expression:"details.level"}},t._l(t.levelArr,function(e){return i("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}},[i("span",{staticStyle:{float:"left"}},[t._v(t._s(e.label))]),t._v(" "),i("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e.value))])])}),1)}),1)],1),t._v(" "),i("div",{staticClass:"form-item"},[i("div",{staticClass:"form-label"},[t._v("\n      预估\n      "),i("el-tooltip",{attrs:{content:"此issue的耗时时间，取预估值，数值越大，耗时越长",placement:"top"}},[i("i",{staticClass:"el-icon-info"})])],1),t._v(" "),i("el-select",{staticClass:"select-point",attrs:{placeholder:"请选择",size:"mini"},model:{value:t.details.point,callback:function(e){t.$set(t.details,"point",e)},expression:"details.point"}},t._l(t.pointsArr,function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),t._v(" "),i("div",{staticClass:"form-item"},[i("div",{staticClass:"form-label"},[t._v("创建时间")]),t._v(" "),i("div",{staticClass:"form-value"},[t._v(t._s(t.details.createTime))])]),t._v(" "),i("div",{staticClass:"form-item"},[i("div",{staticClass:"form-label"},[t._v("最近更新")]),t._v(" "),i("div",{staticClass:"form-value"},[t._v(t._s(t.details.updateTime))])]),t._v(" "),i("div",{staticClass:"form-item desc"},[i("div",{staticClass:"form-label"},[t._v("\n      描述\n      "),i("el-tooltip",{attrs:{content:"此issue的详情描述信息",placement:"top"}},[i("i",{staticClass:"el-icon-info"})])],1),t._v(" "),i("v-edit",{staticClass:"form-value",attrs:{content:t.details.desc,uid:t.details.link,textType:"textarea"}})],1),t._v(" "),i("div",{staticClass:"form-item remark"},[i("div",{staticClass:"form-label"},[t._v("\n      备注\n      "),i("el-tooltip",{attrs:{content:"此issue的备注信息",placement:"top"}},[i("i",{staticClass:"el-icon-info"})])],1),t._v(" "),i("v-edit",{staticClass:"form-value",attrs:{content:t.details.remark,uid:t.details.link,textType:"textarea"}})],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"dragglePoint"}},[e("i",{staticClass:"iconfont icon-tuodong"})])}]};var C=i("C7Lr")(b,y,!1,function(t){i("yBx5")},null,null).exports,k={props:{dialogTableVisible:Boolean},data:function(){return{issusTypeArr:c.a,levelArr:c.b,modulesList:c.c,pointsArr:c.d,rules:{name:[{required:!0,message:"请输入标题",trigger:"submit"},{min:3,max:50,message:"长度在 3 到 50 个字符",trigger:"submit"}],moduleType:[{required:!0,message:"请选择模块类型",trigger:"change"}],point:[{required:!1,message:"请预估点数",trigger:"change"}],desc:[{required:!0,message:"请填写描述信息",trigger:"submit"}]},issueForm:{moduleType:"",name:"",link:"",type:c.a[0].value,typeIcon:c.a[0].icon,typeColor:c.a[0].color,level:"3",title:"",fixed:"",progressState:"",tag:{name:"",link:""},point:""}}},watch:{"issueForm.type":function(t){var e=this;this.issusTypeArr.forEach(function(i){i.value===t&&(e.issueForm.typeIcon=i.icon,e.issueForm.typeColor=i.color)})}},methods:{handleClose:function(){this.$emit("handleClose")}}},x={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.dialogTableVisible?i("div",{attrs:{id:"dialogNewIssus"}},[i("el-dialog",{attrs:{visible:t.dialogTableVisible,size:"mini","before-close":t.handleClose,"show-close":!1,width:"40%"},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[i("div",{staticClass:"dialog-header"},[i("div",{staticClass:"title"},[t._v("创建问题")])]),t._v(" "),i("el-form",{ref:"form",staticClass:"form",attrs:{model:t.issueForm,"label-width":"80px",rules:t.rules,size:"small"}},[i("el-form-item",{staticClass:"form-item",attrs:{label:"问题类型",prop:"name"}},[i("el-tooltip",{attrs:{content:"工作不全是生活，生活也不全是工作。",placement:"top"}},[i("i",{staticClass:"el-icon-info"})]),t._v(" "),i("el-select",{staticClass:"select-item",attrs:{placeholder:"请选择",size:"small"},model:{value:t.issueForm.type,callback:function(e){t.$set(t.issueForm,"type",e)},expression:"issueForm.type"}},t._l(t.issusTypeArr,function(e){return i("el-option",{key:e.name,attrs:{label:e.label,value:e.value}},[i("i",{staticClass:"iconfont",class:[e.icon],style:{color:e.color}}),t._v("\n            "+t._s(e.label)+"\n          ")])}),1),t._v(" "),i("div",{staticClass:"icon-prex"},[i("i",{staticClass:"iconfont",class:[t.issueForm.typeIcon],style:{color:t.issueForm.typeColor}})])],1),t._v(" "),i("el-form-item",{attrs:{label:"概要",prop:"name"}},[i("el-input",{attrs:{placeholder:"请输入概要",size:"small"},model:{value:t.issueForm.name,callback:function(e){t.$set(t.issueForm,"name",e)},expression:"issueForm.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"模块类型",prop:"moduleType"}},[i("el-select",{staticClass:"select-item",attrs:{placeholder:"请选择",size:"small"},model:{value:t.issueForm.moduleType,callback:function(e){t.$set(t.issueForm,"moduleType",e)},expression:"issueForm.moduleType"}},t._l(t.modulesList,function(t){return i("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),i("el-form-item",{attrs:{label:"紧急度",prop:"level"}},[i("el-select",{staticClass:"select-item",attrs:{placeholder:"请选择",size:"small"},model:{value:t.issueForm.level,callback:function(e){t.$set(t.issueForm,"level",e)},expression:"issueForm.level"}},t._l(t.levelArr,function(e){return i("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}},[i("span",{staticStyle:{float:"left"}},[t._v(t._s(e.label))]),t._v(" "),i("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e.value))])])}),1)}),1)],1),t._v(" "),i("el-form-item",{attrs:{label:"预估",prop:"point"}},[i("el-select",{staticClass:"select-item",attrs:{placeholder:"请选择",size:"small"},model:{value:t.issueForm.point,callback:function(e){t.$set(t.issueForm,"point",e)},expression:"issueForm.point"}},t._l(t.pointsArr,function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})}),1)],1),t._v(" "),i("el-form-item",{attrs:{label:"描述",prop:"desc"}},[i("el-input",{attrs:{type:"textarea",rows:5,placeholder:"此Issue的详细描述"},model:{value:t.issueForm.desc,callback:function(e){t.$set(t.issueForm,"desc",e)},expression:"issueForm.desc"}})],1)],1),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(e){return t.handleClose()}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)],1)],1):t._e()},staticRenderFns:[]};var S={data:function(){return{dialogTableVisible:!1,sprintData:[],selecType:null,backlogSprint:[],activeSprint:{issueList:[]},sprintLen:21,backlogTotal:0,backlogLoading:!1,sprintLoading:!1,activeCollapse:0,affairVal:"",dropDraggleObj:null,sprintdetailData:null}},computed:{detailLen:function(){return 21-this.sprintLen}},components:{"v-storyStatusNavigation":_,"v-draggleList":g,"v-sprintDetail":C,"v-dialogNewIssus":i("C7Lr")(k,x,!1,function(t){i("0/x5")},null,null).exports},created:function(){this.getbacklogList(),this.getsprintList()},methods:{dropDownStatus:function(t){this.dropDraggleObj=t},handleClose:function(){this.dialogTableVisible=!1},hc_addissue:function(){var t=this;this.$alert("这是一段内容","标题名称",{confirmButtonText:"确定",callback:function(e){t.$message({type:"info",message:"action: "+e})}})},endDraggable:function(t){var e=this;this.dropDraggleObj&&setTimeout(function(){e.dropDraggleObj=null},4e3)},dragleave:function(t){this.$set(t,"dropStatus",!1)},dragover:function(t,e){t.preventDefault(),this.$set(e,"dropStatus",!0)},drop:function(t){this.$set(t,"dropStatus",!1),this.dropDraggleObj=t},closeDetail:function(){this.sprintLen=21,this.highlightSelectedList()},handleDetail:function(t){this.sprintLen=15,this.sprintdetailData=t,this.highlightSelectedList(t.link)},highlightSelectedList:function(t){var e=document.querySelector('.item[data-key="'+t+'"]');document.querySelectorAll(".item[data-key").forEach(function(t){t.classList.remove("light")}),t&&e.classList.add("light")},getsprintList:function(){var t=this;this.$axios.sprints.sprintList({type:"sprint"}).then(function(e){var i=0;e.issueList.forEach(function(t){i+=t.point}),t.activeSprint=n()({},e,{visible:!0,points:i,total:e.issueList.length})})},getbacklogList:function(){var t=this;this.backlogLoading=!0,this.$axios.sprints.backlogList({type:"backlog"}).then(function(e){setTimeout(function(){t.backlogLoading=!1,t.backlogTotal=e.issueList.length,t.backlogSprint=e},500)})}}},L={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"moduleStory"}},[i("el-row",{staticClass:"story-backlog",attrs:{id:"storyBacklog"}},[i("el-col",{staticClass:"storyNavigation",attrs:{span:3}},[i("v-storyStatusNavigation",{on:{dropDownStatus:t.dropDownStatus}})],1),t._v(" "),i("el-col",{staticClass:"scroll-style-theme1",attrs:{span:t.sprintLen,id:"backlogDetailWrapper"}},[i("div",{staticClass:"backlog"},[i("div",{staticClass:"backlog-title"},[i("div",[i("div",{staticClass:"trigger-sprint",class:[t.activeSprint.visible?"el-icon-arrow-down":"el-icon-arrow-right"],attrs:{size:"mini"},on:{click:function(e){t.activeSprint.visible=!t.activeSprint.visible}}}),t._v(" "),i("span",{staticClass:"title"},[t._v(t._s(t.activeSprint.title))]),t._v(" "),i("span",{staticClass:"issus-count"},[t._v(t._s(t.activeSprint.total)+" 问题")]),t._v(" "),i("span",{staticClass:"status",class:[t.activeSprint.status]},[t._v(t._s("doing"===t.activeSprint.status?"open":"close"))]),t._v(" "),i("span",{staticClass:"date"},[t._v(t._s(t.activeSprint.createTime)+" "),i("i",{staticClass:"iconfont icon-weibiaoti29"}),t._v(" "+t._s(t.activeSprint.endTime))])]),t._v(" "),i("span",{staticClass:"status count"},[t._v(t._s(t.activeSprint.points))])]),t._v(" "),i("v-draggleList",{directives:[{name:"show",rawName:"v-show",value:t.activeSprint.visible,expression:"activeSprint.visible"},{name:"loading",rawName:"v-loading",value:t.sprintLoading,expression:"sprintLoading"}],attrs:{list:t.activeSprint.issueList,highlightSelectedList:t.highlightSelectedList,dropDraggleObj:t.dropDraggleObj,group:"backlog"},on:{endDraggable:t.endDraggable,handleDetail:t.handleDetail}})],1),t._v(" "),i("div",{staticClass:"backlog"},[i("div",{staticClass:"backlog-title"},[i("div",[i("span",{staticClass:"title"},[t._v("Backlog")]),t._v(" "),i("span",{staticClass:"issus-count"},[t._v(t._s(t.backlogTotal)+" 问题")])]),t._v(" "),i("div",[i("el-button",{staticClass:"btn config-btn",attrs:{type:"primary",size:"mini",icon:"el-icon-setting"}},[t._v("配置域上传"),i("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),t._v(" "),i("el-button",{staticClass:"btn",attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.hc_addissue()}}},[t._v("new Sprint")]),t._v(" "),i("el-button",{staticClass:"btn",attrs:{type:"primary",size:"mini"},on:{click:function(e){t.dialogTableVisible=!0}}},[t._v("new Issue")])],1)]),t._v(" "),i("v-draggleList",{directives:[{name:"loading",rawName:"v-loading",value:t.backlogLoading,expression:"backlogLoading"}],attrs:{handle:".handle",list:t.backlogSprint.issueList,highlightSelectedList:t.highlightSelectedList,group:{name:"backlog",pull:!0,put:!0}}})],1)]),t._v(" "),i("el-col",{attrs:{id:"sprintDetailWrapper",span:t.detailLen}},[i("v-sprintDetail",{staticClass:"detail-container",attrs:{sprintdetailData:t.sprintdetailData},on:{closeDetail:t.closeDetail}})],1)],1),t._v(" "),i("v-dialogNewIssus",{attrs:{dialogTableVisible:t.dialogTableVisible},on:{handleClose:t.handleClose}})],1)},staticRenderFns:[]};var w=i("C7Lr")(S,L,!1,function(t){i("RPUZ")},null,null);e.default=w.exports},cUn4:function(t,e,i){t.exports={default:i("2tap"),__esModule:!0}},mmyG:function(t,e,i){var s=i("GVcH");t.exports=function(t,e){var i=[];return s(t,!1,i.push,i,e),i}},qsOi:function(t,e,i){"use strict";var s=i("TY5X"),n=i("rJqi");t.exports=i("GmRL")("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=s.getEntry(n(this,"Map"),t);return e&&e.v},set:function(t,e){return s.def(n(this,"Map"),0===t?0:t,e)}},s,!0)},rJqi:function(t,e,i){var s=i("+kaZ");t.exports=function(t,e){if(!s(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},rsKQ:function(t,e,i){var s=i("VfK5"),n=i("+WWO"),a=i("WXuS"),o=i("n/58"),l=i("O+0q");t.exports=function(t,e){var i=1==t,r=2==t,c=3==t,u=4==t,d=6==t,v=5==t||d,p=e||l;return function(e,l,f){for(var g,m,h=a(e),_=n(h),b=s(l,f,3),y=o(_.length),C=0,k=i?p(e,y):r?p(e,0):void 0;y>C;C++)if((v||C in _)&&(m=b(g=_[C],C,h),t))if(i)k[C]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return C;case 2:k.push(g)}else if(u)return!1;return d?-1:c||u?u:k}}},wTnw:function(t,e,i){i("TorI")("Map")},yBx5:function(t,e){},zOF1:function(t,e,i){var s=i("Wtcz");s(s.P+s.R,"Map",{toJSON:i("9TqU")("Map")})}});
//# sourceMappingURL=1.5be1ec73ff017e5ead2b.js.map